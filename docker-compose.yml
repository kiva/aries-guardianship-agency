# Docker compose to spin up agency
# Currently expects the ledger and wallet db to be available on the kiva-network
#
version: '3'

networks:
  kiva-network:
    external: true

services:
  guardianship-agency:
    env_file:
      - ./.env
    build: ./
    command: npm run start:debug
    image: guardianship-agency
    container_name: guardianship-agency
    working_dir: /www
    ports:
      - "3010:3010"
    expose: 
      - "3010"
    volumes:
      - ./:/www
      - //var/run/docker.sock:/var/run/docker.sock
    networks:
      - kiva-network
    tty: true

